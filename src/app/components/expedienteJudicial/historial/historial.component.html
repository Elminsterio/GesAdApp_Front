<app-loading *ngIf="!this.expediente"></app-loading>
<div class="mt-3" *ngIf="this.expediente">

    <h2> <i class="fas fa-comment"></i> Comentarios </h2>

  <div class="m-5">

    <button class="btn btn-primary" (click)="add = !add"> Añade comentario </button>
    <div *ngIf="add" class="my-3">
        <textarea cols="80" rows="10" class="form-control" spellcheck size="45" [(ngModel)]="comentario" (keyup.enter)="enviarComentario()" style="width: 90%; height: 7rem; resize: none;">
        </textarea>
        <button class="btn btn-success my-3" (click)="enviarComentario()" [disabled]="!comentario" > Enviar </button>
    </div>

  </div>

  <div class="row">
  <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Comentario</th>
          <th scope="col">Fecha Creación</th>
        </tr>
      </thead>
      <tbody>
       <tr *ngFor="let comentario of expediente['comentarios']; let i = index">
          <th scope="row">{{i + 1}}</th>
          <td>{{comentario.comentario}}</td>
          <td>{{comentario.fechaCreacion | date:'dd/MM/yy' }} - {{comentario.fechaCreacion | date:'h:mm a' }}</td>
        </tr>
      </tbody>
  </table> 
  </div>